<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Корзина</title>
</head>

<style>
    #catalog,
    .item_box {
        display: inline-block;
        border: 1px black;
    }

    #cart_content {

        height: 50px;
        margin: 5px;
        width: 150px;
        text-align: center;
    }

    #tables {
        border: 1px black;
    }

    td {
        height: 20px;
    }
</style>

<body>


    <div class="item_box">
        <h4 id="apple">Яблоки</h4>
        <p>Цена: <span id="item_price1">20 </span>руб.</p>
        <input type="button" id="elem1" onclick="clickissue1()" value="Купить" />
    </div>
    <div class="item_box">
        <h4 class="item_title">Бананы</h4>
        <p>Цена: <span id="item_price2">50 </span>руб.</p>
        <input type="button" id="elem2" onclick="clickissue2()" value="Купить" />
    </div>
    <div class="item_box">
        <h4 class="item_title">Клубника</h4>
        <p>Цена: <span id="item_price3">100 </span>руб.</p>
        <input type="button" id="elem3" onclick="clickissue3()" value="Купить" />
    </div>

    <br> <br>

    <button id="checkout" onclick='total_sum()'>ИТОГО СУММА</button>
    <button id="clear_cart" onclick='cleanCard()'>Очистить корзину</button>
    <div id="cart_content"></div>


    <script>
        var d = document,
            itemBox = document.querySelectorAll('.item_box'), // блок каждого товара
            cartCont = document.getElementById('cart_content'); // блок вывода данных корзины

        function CardCheckF() {

            var CheckCard = document.getElementById("cart_content"); // проверяем если корзина пуста
            if (CheckCard = "undefined") {
                var empty_card = document.createElement('p');
                empty_card.innerHTML = "<strong>Корзина пуста!</strong>";
                cart_content.appendChild(empty_card);
            };
        }
        CardCheckF(); // функция проверки
        //var CardListObject = ['Корзина пуста']; //создание пустого объекта корзины 
        tableTeg = document.createElement('table');
        tableTeg.setAttribute('border', 1);
        tableTeg.setAttribute('width', 300);
        document.body.appendChild(tableTeg);

        for (i = 1; i < 6; i++) {
            tableTeg.appendChild(newTr = document.createElement('tr'));
            for (j = 1; j < 3; j++) {
                newTr.appendChild(newTd = document.createElement('td'));
                newTd.innerText = '';
                newTd.setAttribute('align', 'center');
            }
        }
        tableTeg.rows[0].cells[0].innerText = "Наименование товара";
        tableTeg.rows[0].cells[1].innerText = "Стоимость";

        function clickissue1() {
            var AddToCardApple = document.body.children[0].children[0];
            cart_content.innerHTML = "В корзине что-то есть";
            tableTeg.rows[1].cells[0].innerText = AddToCardApple.innerHTML;
            var AddToCardApple = document.body.children[0].children[1];
            var A_price = document.getElementById("item_price1");
            tableTeg.rows[1].cells[1].innerText = A_price.innerText;

        }

        function clickissue2() {
            var AddToCardBanana = document.body.children[1].children[0];
            cart_content.innerHTML = "В корзине что-то есть";
            tableTeg.rows[2].cells[0].innerText = AddToCardBanana.innerHTML;
            var AddToCardBanana = document.body.children[1].children[1];
            var B_price = document.getElementById("item_price2");
            tableTeg.rows[2].cells[1].innerText = B_price.innerText;
        }

        function clickissue3() {
            var AddToCardStraw = document.body.children[2].children[0];
            cart_content.innerHTML = "В корзине что-то есть";
            tableTeg.rows[3].cells[0].innerText = AddToCardStraw.innerHTML;
            var AddToCardStraw = document.body.children[2].children[1];

            var S_price = document.getElementById("item_price3");
            tableTeg.rows[3].cells[1].innerText = S_price.innerText;

        }

        tableTeg.rows[4].cells[0].innerText = "Итого";


        function total_sum() {
            var a = tableTeg.rows[1].cells[1].innerHTML;
            var b = tableTeg.rows[2].cells[1].innerHTML;
            var s = tableTeg.rows[3].cells[1].innerHTML;
            var totalSum = tableTeg.rows[4].cells[1];
            sum = (+a + +b + +s);

            totalSum.innerHTML = +sum;
        }


        function cleanCard() {
            var clean = document.getElementById('cart_content');
            clean.innerText = "Корзина пуста";
            var totalSum = tableTeg.rows[4].cells[1];
            totalSum.innerHTML = 0;
            tableTeg.rows[2].cells[0].innerText = 0;
            tableTeg.rows[3].cells[0].innerText = 0;
            tableTeg.rows[1].cells[0].innerText = 0;
            tableTeg.rows[2].cells[1].innerText = 0;
            tableTeg.rows[3].cells[1].innerText = 0;
            tableTeg.rows[1].cells[1].innerText = 0;
        }

        // alert(document.body.children[10 ]);// нашли таблицу
    </script>

</body>

</html>
